self.__PRECACHE_MANIFEST=["/assets/dev/index.css","/assets/fonts/IntellectaRomanaHumanistica.css","/assets/fonts/IntellectaRomanaHumanistica.woff2","/assets/fonts/Inter-Italic.var.woff2","/assets/fonts/Inter-Roman.var.woff2","/assets/fonts/Inter.css","/assets/fonts/UxumGrotesque-Bold.woff2","/assets/fonts/UxumGrotesque-Light.woff2","/assets/fonts/UxumGrotesque-Medium.woff2","/assets/fonts/UxumGrotesque-Regular.woff2","/assets/fonts/UxumGrotesque-Ultra.woff2","/assets/fonts/UxumGrotesque-UltraLight.woff2","/assets/fonts/UxumGrotesque.css","/dist/assets/home.f7eba023.js","/dist/assets/index.022450a8.js","/dist/assets/inline-head.js","/dist/assets/main.b2a0d4d7.css","/dist/assets/main.df6d11b6.js","/dist/assets/medium-zoom.esm.030099d8.js","/dist/assets/profile.624ee59b.js","/dist/assets/splide.esm.7a6e5163.js","/dist/assets/vendor.963091d3.js"];const VERSION="AtRF_InkFnBS6NKinx73d",KIRBY_PANEL_SLUG="panel",KIRBY_API_SLUG="api",sw=self,LANG=navigator.language.startsWith("de")?"de":"en",MAX_CACHED_PAGES=0,MAX_CACHED_IMAGES=50,FETCH_TIMEOUT=7500,CACHE_KEYS={STATIC:`static-${VERSION}`,PAGES:`pages-${VERSION}`,IMAGES:"images"},ALLOWED_HOSTS=[sw.location.host],EXCLUDED_PATH_PREFIXES=[`/${KIRBY_API_SLUG}/`,`/${KIRBY_PANEL_SLUG}/`,`/media/${KIRBY_PANEL_SLUG}/`,"/media/plugins/"],PRECACHE_URLS=[...sw.__PRECACHE_MANIFEST||[],`/${LANG}`,`/${LANG}/blog`,`/${LANG}/offline`];async function stashInCache(t,s,e){(await caches.open(t)).put(s,e)}async function trimCache(t,s){const e=await caches.open(t),a=await e.keys();if(a.length>s)return await e.delete(a[0]),trimCache(t,s)}sw.addEventListener("message",({data:t})=>{t?.command==="trimCaches"&&(MAX_CACHED_PAGES&&trimCache(CACHE_KEYS.PAGES,MAX_CACHED_PAGES),MAX_CACHED_IMAGES&&trimCache(CACHE_KEYS.IMAGES,MAX_CACHED_IMAGES))}),sw.addEventListener("install",t=>{sw.skipWaiting(),t.waitUntil((async()=>{await(await caches.open(CACHE_KEYS.STATIC)).addAll(PRECACHE_URLS.map(e=>new Request(e,{credentials:"include"})))})())}),sw.addEventListener("activate",t=>{sw.clients.claim(),t.waitUntil((async()=>{const s=await caches.keys();for(const e of s)Object.values(CACHE_KEYS).includes(e)||await caches.delete(e)})())}),sw.addEventListener("fetch",t=>{const{request:s}=t,e=new URL(s.url),a=s.headers.get("Accept");if(s.method!=="GET"||!ALLOWED_HOSTS.find(n=>e.host===n)||EXCLUDED_PATH_PREFIXES.some(n=>e.pathname.startsWith(n)))return;const r=a?.startsWith("text/html"),c=a?.startsWith("image"),f=/^\/(assets|dist)\//.test(e.pathname);t.respondWith(async function(){const n=await caches.match(s);if(n&&(c||f))return n;const l=new AbortController,{signal:d}=l,u=setTimeout(()=>l.abort(),FETCH_TIMEOUT);try{const i=await fetch(s,{signal:d}),o=i.clone();return clearTimeout(u),PRECACHE_URLS.includes(e.pathname)||PRECACHE_URLS.includes(e.pathname+"/")?stashInCache(CACHE_KEYS.STATIC,s,o):r?stashInCache(CACHE_KEYS.PAGES,s,o):c&&stashInCache(CACHE_KEYS.IMAGES,s,o),i}catch(i){if(i.name==="AbortError"&&console.error("Fetch aborted after timeout for",s.url),n)return n;if(r){const o=await caches.match(`/${LANG}/offline`);if(o)return o}return c?new Response(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300" aria-label="Device is offline\u2026" role="img">
  <path fill="hsl(0, 0%, 85%)" d="M0 0h400v300H0z" />
  <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="system-ui, sans-serif" font-size="72" font-weight="600">Offline</text>
</svg>`,{headers:{"Content-Type":"image/svg+xml","Cache-Control":"no-store"}}):(console.error(i),new Response(null,{status:504}))}}())});
